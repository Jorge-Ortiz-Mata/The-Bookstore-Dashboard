<div data-controller="revenue" id="revenue_section_chart" data="<%= revenue_from_sells %>"
  class="flex flex-col my-5 rounded-lg py-4 px-10 border shadow-lg bg-gray-100 justify-center">
  <div class="font-semibold text-xl text-center my-5">
    Reveue from the Bookstore.
  </div>

  <div class="flex items-center justify-center h-72">
    <canvas id="revenue_chart"></canvas>
  </div>

  <div class="mt-5 flex flex-col">
    <h5 class="font-bold text-center my-5 text-xl">Sells for each book</h5>
    <table class="my-5">
      <div class="flex w-full">
        <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center">ID</div>
        <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center">Name</div>
        <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center">Revenue</div>
      </div>
      <div class="flex flex-col">
        <% Book.all.each do |book| %>
          <div class="flex">
            <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center"><%= book.id %></div>
            <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center"><%= book.name %></div>
            <div class="w-1/3 flex items-center font-semibold border-2 justify-center text-sm text-center">$<%= book.sells.sum(:total).round(2) %> USD</div>
          </div>
        <% end %>
      </div>
    </table>
  </div>

  <div class="flex flex-col w-full items-center">
    <h4 class="font-bold">Total revenue.</h4>
    <span class="font-bold text-xl">$ <%= Sell.all.sum(:total).round(2) %> USD</span>
  </div>
</div>
